"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[745],{2745:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var a=r(5861),n=r(885),s=r(7757),o=r.n(s),u=r(2791),i=r(5898),c=r(7342),l=r(149),f=r(6151),p=r(6871),d=r(184),m={form:{width:320},label:{display:"flex",flexDirection:"column",marginBottom:15}};function h(){var e=(0,p.s0)(),t=(0,i.OQ)(),r=(0,n.Z)(t,1)[0],s=(0,u.useState)(""),h=(0,n.Z)(s,2),w=h[0],g=h[1],v=(0,u.useState)(""),b=(0,n.Z)(v,2),k=b[0],x=b[1],Z=(0,u.useState)(""),j=(0,n.Z)(Z,2),y=j[0],_=j[1];(0,u.useEffect)((function(){localStorage.setItem("token",JSON.stringify(y))}),[y]);var C=function(e){var t=e.target,r=t.name,a=t.value;switch(r){case"email":return g(a);case"password":return x(a);default:return}},S=function(){var t=(0,a.Z)(o().mark((function t(a){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(a);case 2:if(n=t.sent,t.prev=3,!n.data.token){t.next=7;break}return _(n.data.token),t.abrupt("return",e("/",{replace:!0}));case 7:alert("Error status ".concat(n.error.status,", message: not found email or password")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),alert("Error status ".concat(n.error.status,", message: not found email or password"));case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}();return(0,d.jsx)("div",{children:(0,d.jsx)("form",{onSubmit:function(e){e.preventDefault(),S({email:w,password:k}),g(""),x("")},style:m.form,autoComplete:"off",children:(0,d.jsxs)(c.ZP,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"center",gap:4,children:[(0,d.jsx)("h1",{children:"Login page"}),(0,d.jsx)(l.Z,{required:!0,label:"Email",type:"email",name:"email",value:w,onChange:C}),(0,d.jsx)(l.Z,{required:!0,label:"Password",type:"password",name:"password",value:k,onChange:C}),(0,d.jsx)(f.Z,{type:"submit",variant:"outlined",color:"success",size:"large",children:"Ok"})]})})})}}}]);
//# sourceMappingURL=745.69e167e6.chunk.js.map